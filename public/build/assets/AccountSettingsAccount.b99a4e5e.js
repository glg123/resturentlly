import{c as H,aP as O,s as n,be as Q,U as c,ai as W,o as A,l as X,g as l,w as a,e as t,z as T,C as m,j as u,G as Y,f as Z,H as ee,p as le,i as d,y as R,bf as q,F as se}from"./main.e5722c22.js";import{_ as ae}from"./ConfirmDialog.8727bc5a.js";import{V as G}from"./VSnackbar.dc45fad4.js";import{V as _}from"./VBtn.4327307d.js";import{a as f,V as x}from"./VRow.f8de802a.js";import{V as B,c as $}from"./VCard.2abcdcfe.js";import{V as te}from"./VAlert.7beea02f.js";import{V as E}from"./VAvatar.1bc59f66.js";import{V as N}from"./VDivider.19cd6d54.js";import{V as oe}from"./VForm.be976fbe.js";import{V as P}from"./VTextField.c7d5535f.js";import{V as C}from"./VTextarea.fa7fc197.js";const re={ref:"refForm_back",class:"d-flex flex-column justify-center gap-4"},ie={class:"d-flex flex-wrap gap-2"},ne={class:"d-none d-sm-block"},de=d("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1),ue={ref:"refForm_front",class:"d-flex flex-column justify-center gap-4"},fe={class:"d-flex flex-wrap gap-2"},ce={class:"d-none d-sm-block"},me=d("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1),Te={__name:"AccountSettingsAccount",setup(pe){H();const{t:z}=O();n({});const D=Q(),v=n(!1),k=n(!1);let w=localStorage.getItem("accessToken");c.defaults.headers.common["Content-Type"]="application/json",c.defaults.headers.common.Accept="application/json",c.defaults.headers.common.Language="ar",c.defaults.headers.common.type="Admin",c.defaults.headers.common.auth="token "+w;const h=n([]),p=s=>String(s).trim().length==0?z("This field is required"):!0,I=()=>{D.params.tab==="account"&&c.get("/settings",{token:w}).then(s=>{console.log(s.data,"res"),h.value=s.data}).catch(s=>reject(s))};W(D,I,{immediate:!0});const S=n(),y=n(""),U=n(),F=n(!1),j=n();let o=h;const g=n(!1),V=n(!1),L=()=>{I()},M=()=>{var s;(s=j.value)==null||s.validate().then(({valid:e})=>{console.log(e),e&&(k.value=!0,v.value=!0,c.post("settings",{slider_title_ar:o.value.slider_title_ar,slider_title_en:o.value.slider_title_en,slider_description_ar:o.value.slider_description_ar,slider_description_en:o.value.slider_description_en,about_us_ar:o.value.about_us_ar,about_us_en:o.value.about_us_en,slider_front_img:o.value.slider_front_img,slider_back_img:o.value.slider_back_img,token:w}).then(i=>{console.log(i.data),g.value=!0,k.value=!1,v.value=!1}).catch(i=>{console.log(i.response.data.message),y.value=i.response.data.message,V.value=!0,k.value=!1,v.value=!1}))})},J=s=>{const e=new FileReader,{files:i}=s.target;i&&i.length&&(e.readAsDataURL(i[0]),e.onload=()=>{typeof e.result=="string"&&(o.value.slider_front_img=e.result)})},K=s=>{const e=new FileReader,{files:i}=s.target;i&&i.length&&(e.readAsDataURL(i[0]),e.onload=()=>{typeof e.result=="string"&&(o.value.slider_back_img=e.result)})};return(s,e)=>{const i=ae;return A(),X(se,null,[l(x,null,{default:a(()=>[l(G,{location:"top",modelValue:t(g),"onUpdate:modelValue":e[1]||(e[1]=r=>T(g)?g.value=r:null)},{actions:a(()=>[l(_,{color:"success",onClick:e[0]||(e[0]=r=>g.value=!1)},{default:a(()=>[m(u(s.$t("Close")),1)]),_:1})]),default:a(()=>[m(u(s.$t("Done"))+" ",1)]),_:1},8,["modelValue"]),l(G,{color:"error",location:"top",modelValue:t(V),"onUpdate:modelValue":e[3]||(e[3]=r=>T(V)?V.value=r:null)},{actions:a(()=>[l(_,{color:"success",onClick:e[2]||(e[2]=r=>V.value=!1)},{default:a(()=>[m(u(s.$t("Close")),1)]),_:1})]),default:a(()=>[m(u(t(y))+" ",1)]),_:1},8,["modelValue"]),t(y)?Y((A(),Z(f,{key:0,cols:"12"},{default:a(()=>[l(B,{title:s.$t("Site_Settings")},{default:a(()=>[l($,{class:"d-flex"},{default:a(()=>[l(te,{color:"error"},{default:a(()=>[m(u(t(y)),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},512)),[[ee,!1]]):le("",!0),l(f,{cols:"12"},{default:a(()=>[l(B,{title:s.$t("Site_Settings")},{default:a(()=>[l($,{class:"d-flex"},{default:a(()=>[l(E,{rounded:"",size:"100",class:"me-6",image:t(h).slider_back_img},null,8,["image"]),d("form",re,[d("div",ie,[l(_,{color:"primary",onClick:e[4]||(e[4]=r=>{var b;return(b=t(U))==null?void 0:b.click()})},{default:a(()=>[l(R,{icon:"tabler-cloud-upload",class:"d-sm-none"}),d("span",ne,u(s.$t("slider_back_img")),1)]),_:1}),d("input",{ref_key:"refInputEl_back",ref:U,type:"file",name:"file_back",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:K},null,544)]),de],512)]),_:1}),l(N),l($,{class:"d-flex"},{default:a(()=>[l(E,{rounded:"",size:"100",class:"me-6",image:t(h).slider_front_img},null,8,["image"]),d("form",ue,[d("div",fe,[l(_,{color:"primary",onClick:e[5]||(e[5]=r=>{var b;return(b=t(S))==null?void 0:b.click()})},{default:a(()=>[l(R,{icon:"tabler-cloud-upload",class:"d-sm-none"}),d("span",ce,u(s.$t("slider_front_img")),1)]),_:1}),d("input",{ref_key:"refInputEl_front",ref:S,type:"file",name:"file_front",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:J},null,544)]),me],512)]),_:1}),l(N),l($,{class:"pt-2"},{default:a(()=>[l(oe,{ref_key:"refForm",ref:j,class:"mt-6"},{default:a(()=>[l(x,null,{default:a(()=>[l(f,{md:"6",cols:"12"},{default:a(()=>[l(P,{modelValue:t(o).slider_title_ar,"onUpdate:modelValue":e[6]||(e[6]=r=>t(o).slider_title_ar=r),label:s.$t("slider_title_ar"),"persistent-placeholder":"",placeholder:s.$t("This field is required"),rules:[p],messages:s.$t("This field is required")},null,8,["modelValue","label","placeholder","rules","messages"])]),_:1}),l(f,{md:"6",cols:"12"},{default:a(()=>[l(P,{modelValue:t(o).slider_title_en,"onUpdate:modelValue":e[7]||(e[7]=r=>t(o).slider_title_en=r),label:s.$t("slider_title_en"),"persistent-placeholder":"",placeholder:"This field is required",rules:[p]},null,8,["modelValue","label","rules"])]),_:1}),l(f,{cols:"12"},{default:a(()=>[l(C,{modelValue:t(o).slider_description_ar,"onUpdate:modelValue":e[8]||(e[8]=r=>t(o).slider_description_ar=r),rows:"4",label:s.$t("slider_description_ar"),"persistent-placeholder":"",placeholder:"This field is required",rules:[p]},null,8,["modelValue","label","rules"])]),_:1}),l(f,{cols:"12"},{default:a(()=>[l(C,{modelValue:t(o).slider_description_en,"onUpdate:modelValue":e[9]||(e[9]=r=>t(o).slider_description_en=r),rows:"4",label:s.$t("slider_description_en"),"persistent-placeholder":"",placeholder:"This field is required",rules:[p]},null,8,["modelValue","label","rules"])]),_:1}),l(f,{cols:"12"},{default:a(()=>[l(C,{modelValue:t(o).about_us_ar,"onUpdate:modelValue":e[10]||(e[10]=r=>t(o).about_us_ar=r),rows:"4",label:s.$t("about_us_ar"),"persistent-placeholder":"",placeholder:"This field is required",rules:[p]},null,8,["modelValue","label","rules"])]),_:1}),l(f,{cols:"12"},{default:a(()=>[l(C,{modelValue:t(o).about_us_en,"onUpdate:modelValue":e[11]||(e[11]=r=>t(o).about_us_en=r),rows:"4",label:s.$t("about_us_en"),"persistent-placeholder":"",placeholder:"This field is required",rules:[p]},null,8,["modelValue","label","rules"])]),_:1}),l(f,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[l(_,{loading:t(k),disabled:t(v),onClick:q(M,["prevent"])},{default:a(()=>[m(u(s.$t("Save changes")),1)]),_:1},8,["loading","disabled","onClick"]),l(_,{color:"secondary",variant:"tonal",type:"reset",onClick:q(L,["prevent"])},{default:a(()=>[m(u(s.$t("Reset")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}),l(i,{isDialogVisible:t(F),"onUpdate:isDialogVisible":e[12]||(e[12]=r=>T(F)?F.value=r:null),"confirmation-msg":"Are you sure you want to deactivate your account?"},null,8,["isDialogVisible"])],64)}}};export{Te as _};
