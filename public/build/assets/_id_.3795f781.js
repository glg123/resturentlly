import{s as i,c as h,U as u,aP as j,ai as I,o as L,f as P,w as a,g as t,C as c,j as V,e as s,z as $,bf as z,be as E,W as M}from"./main.e5722c22.js";import{u as W}from"./useAdminListStore.251ab28b.js";/* empty css                                                                     */import{b as T}from"./route-block.2f1a6263.js";import{V as k}from"./VBtn.4327307d.js";import{V as w}from"./VSnackbar.dc45fad4.js";import{V as G,c as H}from"./VCard.2abcdcfe.js";import{V as J}from"./VForm.be976fbe.js";import{V as y,a as n}from"./VRow.f8de802a.js";import{V as U}from"./VTextField.c7d5535f.js";import{V as F}from"./VTextarea.fa7fc197.js";import{V as K}from"./VSelect.23e06609.js";import"./router.f3c33ba4.js";import"./position.fb77405d.js";import"./scopeId.23faa331.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.ed5a8d46.js";import"./lazy.d1bb34b2.js";import"./easing.36b781ab.js";import"./VImg.a33717ea.js";import"./VAvatar.1bc59f66.js";import"./VInput.1a6e2ae8.js";import"./index.19c19380.js";/* empty css                   */import"./VField.01372b27.js";import"./VCounter.bc3c6bfa.js";import"./VList.345ceaa4.js";import"./VDivider.19cd6d54.js";import"./dialog-transition.738c368f.js";import"./VMenu.1340a45a.js";import"./VCheckboxBtn.d3981e2f.js";import"./VSelectionControl.336d6e11.js";import"./VChip.f64a01b2.js";const O={__name:"[id]",setup(Q){W();const d=E();i([]);const r=i([]),S=i([]),A=M(),{isAppRtl:N}=h();let _=localStorage.getItem("accessToken");u.defaults.headers.common["Content-Type"]="application/json",u.defaults.headers.common.Accept="application/json",N.value===!0?u.defaults.headers.common.Language="ar":u.defaults.headers.common.Language="en",u.defaults.headers.common.type="Admin",u.defaults.headers.common.role="Admin",u.defaults.headers.common.auth="Bearer "+_;const v=o=>String(o).trim().length==0?C("This field is required"):!0;i();const R=()=>{u.get("/single/"+Number(d.params.id)+"/faq",{token:_}).then(o=>{r.value=o.data,m.value=o.data.status})},{t:C}=j(),m=i(),B=[{title:C("active"),value:"active"},{title:C("not_active"),value:"not_active"}];I(d,R,{immediate:!0});const p=i(!1),f=i(!1),b=i(!1),g=i(!1),D=()=>{var o;(o=q.value)==null||o.validate().then(({valid:e})=>{console.log(e),e&&(g.value=!0,b.value=!0,u.post("faq/"+Number(d.params.id),{title_en:r.value.title_en,title_ar:r.value.title_ar,description_ar:r.value.description_ar,description_en:r.value.description_en,status:m.value,token:_}).then(l=>{console.log(l.data),p.value=!0,g.value=!1,b.value=!1,A.replace(d.query.to?String(d.query.to):"/admin/apps/faqs/list/")}).catch(l=>{console.log(l.response.data.message),S.value=l.response.data.message,f.value=!0,g.value=!1,b.value=!1}))})},q=i();return(o,e)=>(L(),P(y,null,{default:a(()=>[t(w,{location:"top",modelValue:s(p),"onUpdate:modelValue":e[1]||(e[1]=l=>$(p)?p.value=l:null)},{actions:a(()=>[t(k,{color:"success",onClick:e[0]||(e[0]=l=>p.value=!1)},{default:a(()=>[c(V(o.$t("Close")),1)]),_:1})]),default:a(()=>[c(V(o.$t("Done"))+" ",1)]),_:1},8,["modelValue"]),t(w,{color:"error",location:"top",modelValue:s(f),"onUpdate:modelValue":e[3]||(e[3]=l=>$(f)?f.value=l:null)},{actions:a(()=>[t(k,{color:"success",onClick:e[2]||(e[2]=l=>f.value=!1)},{default:a(()=>[c(V(o.$t("Close")),1)]),_:1})]),default:a(()=>[c(V(s(S))+" ",1)]),_:1},8,["modelValue"]),t(n,{cols:"12"},{default:a(()=>[t(G,{title:o.$t("AddNew")},{default:a(()=>[t(H,{class:"pt-2"},{default:a(()=>[t(J,{ref_key:"refForm",ref:q,class:"mt-6"},{default:a(()=>[t(y,null,{default:a(()=>[t(n,{md:"6",cols:"12"},{default:a(()=>[t(U,{modelValue:s(r).title_ar,"onUpdate:modelValue":e[4]||(e[4]=l=>s(r).title_ar=l),label:o.$t("title_ar"),rules:[v]},null,8,["modelValue","label","rules"])]),_:1}),t(n,{md:"6",cols:"12"},{default:a(()=>[t(U,{modelValue:s(r).title_en,"onUpdate:modelValue":e[5]||(e[5]=l=>s(r).title_en=l),label:o.$t("title_en"),rules:[v]},null,8,["modelValue","label","rules"])]),_:1}),t(n,{md:"6",cols:"12"},{default:a(()=>[t(F,{modelValue:s(r).description_ar,"onUpdate:modelValue":e[6]||(e[6]=l=>s(r).description_ar=l),label:o.$t("description_ar"),rows:"4",rules:[v]},null,8,["modelValue","label","rules"])]),_:1}),t(n,{md:"6",cols:"12"},{default:a(()=>[t(F,{modelValue:s(r).description_ar,"onUpdate:modelValue":e[7]||(e[7]=l=>s(r).description_ar=l),label:o.$t("description_ar"),rows:"4",rules:[v]},null,8,["modelValue","label","rules"])]),_:1}),t(n,{md:"6",cols:"12"},{default:a(()=>[t(K,{modelValue:s(m),"onUpdate:modelValue":e[8]||(e[8]=l=>$(m)?m.value=l:null),label:o.$t("Select Status"),items:B,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","label"])]),_:1}),t(n,{cols:"12"},{default:a(()=>[t(k,{type:"submit",loading:s(g),disabled:s(b),onClick:z(D,["prevent"])},{default:a(()=>[c(V(o.$t("Save changes")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}))}};typeof T=="function"&&T(O);export{O as default};
