import{s as l,o as D,l as F,g as e,w as o,i as n,e as t,V as M,t as y,j,bf as A,z as g,C as V,be as P,O as q,r as E,$ as O}from"./main.078a9716.js";import{u as U}from"./useAppAbility.190776ab.js";import{u as w,m as $,a as J}from"./useGenerateImageVariant.ac9d5a80.js";import z from"./NavBarI18n.63fa3ae6.js";import G from"./test3.a691e199.js";import{r as x,f as W}from"./validators.e59f90da.js";import{a as H,b as K,c as Q,d as X}from"./auth-v2-login-illustration-light.bdce81f1.js";import{b as v}from"./route-block.2f1a6263.js";import{a as i,V as k}from"./VRow.e13b536b.js";import{V as I}from"./VImg.cc893ccb.js";import{V as Y,c as _}from"./VCard.3afa8a52.js";import{V as C}from"./VTextField.d8a7d912.js";import{V as Z}from"./VCheckbox.876e9264.js";import{V as ee}from"./VBtn.e4c558dd.js";import{V as te}from"./VForm.f4c68f82.js";import"./I18n.de9e55c5.js";import"./VMenu.60374e62.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.a984c125.js";import"./VOverlay.c04acb7b.js";import"./router.4bb23ac0.js";import"./lazy.5006f860.js";import"./easing.36b781ab.js";import"./dialog-transition.06e38ff2.js";import"./VList.05852a98.js";import"./index.8a0d3cc6.js";import"./VAvatar.ecffb864.js";import"./VDivider.cfe78da3.js";import"./position.e83b1372.js";import"./index.b522f886.js";/* empty css                   */import"./VField.db9fd7d9.js";import"./VInput.a7f379dc.js";import"./VCounter.3a24309c.js";import"./VCheckboxBtn.83e8d540.js";import"./VSelectionControl.af7cec95.js";const oe={class:"position-relative auth-bg rounded-lg w-100 ma-8 me-0"},se={class:"d-flex align-center justify-center w-100 h-100"},ae={class:"text-h5 font-weight-semibold mb-1"},re=n("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),le={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},ie=n("span",null,"New on our platform?",-1),ne={__name:"login",setup(me){const L=w(X,Q,K,H,!0),S=w(J,$),m=l(!1),b=P(),R=q(),T=U(),c=l({email:void 0,password:void 0}),h=l(),u=l("admin@demo.com"),d=l("admin"),f=l(!1),N=()=>{O.post("admin/login",{email:u.value,password:d.value}).then(r=>{const{accessToken:s,userData:p,userAbilities:a}=r.data;localStorage.setItem("userAbilities",JSON.stringify(a)),T.update(a),localStorage.setItem("userData",JSON.stringify(p)),localStorage.setItem("accessToken",s),R.replace(b.query.to?String(b.query.to):"/admin/")}).catch(r=>{const{errors:s}=r.response.data;c.value=s,console.error(r.response.data)})},B=()=>{var r;(r=h.value)==null||r.validate().then(({valid:s})=>{s&&N()})};return(r,s)=>{const p=E("RouterLink");return D(),F("div",null,[e(z),e(k,{"no-gutters":"",class:"auth-wrapper"},{default:o(()=>[e(i,{lg:"4",class:"d-none d-lg-flex"},{default:o(()=>[n("div",oe,[n("div",se,[e(I,{"max-width":"505",src:t(L),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(I,{src:t(S),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(i,{lg:"4",class:"d-none d-lg-flex"},{default:o(()=>[e(G)]),_:1}),e(i,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:o(()=>[e(Y,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:o(()=>[e(_,null,{default:o(()=>[e(t(M),{nodes:t(y).app.logo2,class:"mb-6"},null,8,["nodes"]),n("h5",ae," Welcome to "+j(t(y).app.title)+"! \u{1F44B}\u{1F3FB} ",1),re]),_:1}),e(_),e(_,null,{default:o(()=>[e(t(te),{ref_key:"refVForm",ref:h,onSubmit:A(B,["prevent"])},{default:o(()=>[e(k,null,{default:o(()=>[e(i,{cols:"12"},{default:o(()=>[e(C,{modelValue:t(u),"onUpdate:modelValue":s[0]||(s[0]=a=>g(u)?u.value=a:null),label:"Email",type:"email",rules:[t(x),t(W)],"error-messages":t(c).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(i,{cols:"12"},{default:o(()=>[e(C,{modelValue:t(d),"onUpdate:modelValue":s[1]||(s[1]=a=>g(d)?d.value=a:null),label:"Password",rules:[t(x)],type:t(m)?"text":"password","error-messages":t(c).password,"append-inner-icon":t(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[2]||(s[2]=a=>m.value=!t(m))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),n("div",le,[e(Z,{modelValue:t(f),"onUpdate:modelValue":s[3]||(s[3]=a=>g(f)?f.value=a:null),label:"Remember me"},null,8,["modelValue"]),e(p,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:o(()=>[V(" Forgot Password? ")]),_:1})]),e(ee,{block:"",type:"submit"},{default:o(()=>[V(" Login ")]),_:1})]),_:1}),e(i,{cols:"12",class:"text-center"},{default:o(()=>[ie,e(p,{class:"text-primary ms-2",to:{name:"register"}},{default:o(()=>[V(" Create an account ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})])}}};typeof v=="function"&&v(ne);export{ne as default};
