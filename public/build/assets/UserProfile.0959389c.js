import{o as s,f as l,w as t,g as e,e as a,y as i,C as u,j as m,W as I,be as k,Z as S}from"./main.e5722c22.js";import{u as h}from"./useAppAbility.977f44d8.js";import{V as D}from"./vue-cookies.aacfa879.js";import{V}from"./VBadge.4246b3b2.js";import{V as _}from"./VImg.a33717ea.js";import{V as A}from"./VMenu.1340a45a.js";import{V as x,a as c,b as n,c as L}from"./VList.345ceaa4.js";import{V as N}from"./VListItemAction.074e5e6b.js";import{V as g}from"./VAvatar.1bc59f66.js";import{V as y}from"./VDivider.19cd6d54.js";import"./router.f3c33ba4.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.23faa331.js";import"./VOverlay.ed5a8d46.js";import"./lazy.d1bb34b2.js";import"./easing.36b781ab.js";import"./dialog-transition.738c368f.js";import"./index.19c19380.js";const H={__name:"UserProfile",setup(w){const f=I(),p=k(),b=h(),o=JSON.parse(localStorage.getItem("userData")||"null"),v=()=>{const r=JSON.parse(localStorage.getItem("userData")||"{}");r&&r.role&&r.role;let d="/customers/login/";localStorage.removeItem("userData"),D.remove("auth"),localStorage.removeItem("accessToken"),localStorage.removeItem("userAbilities"),b.update(S),f.replace(p.query.to?String(p.query.to):"/customers/login"),f.push(d).then(()=>{})};return(r,d)=>(s(),l(V,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(g,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>[a(o)&&a(o).avatar?(s(),l(_,{key:0,src:a(o).avatar},null,8,["src"])):(s(),l(i,{key:1,icon:"tabler-user"})),e(A,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(x,null,{default:t(()=>[e(c,null,{prepend:t(()=>[e(N,{start:""},{default:t(()=>[e(V,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[e(g,{color:"primary",variant:"tonal"},{default:t(()=>[a(o)&&a(o).avatar?(s(),l(_,{key:0,src:a(o).avatar},null,8,["src"])):(s(),l(i,{key:1,icon:"tabler-user"}))]),_:1})]),_:1})]),_:1})]),default:t(()=>[e(n,{class:"font-weight-semibold"},{default:t(()=>[u(m(a(o).fullName),1)]),_:1}),e(L,null,{default:t(()=>[u(m(a(o).role),1)]),_:1})]),_:1}),e(y,{class:"my-2"}),e(c,{to:{name:"customers-my"}},{prepend:t(()=>[e(i,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[e(n,null,{default:t(()=>[u(m(r.$t("Profile")),1)]),_:1})]),_:1}),e(y,{class:"my-2"}),e(c,{link:"",onClick:v},{prepend:t(()=>[e(i,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(n,null,{default:t(()=>[u(m(r.$t("logout")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{H as default};
