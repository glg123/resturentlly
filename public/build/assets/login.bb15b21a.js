import{s as d,aP as F,o as M,l as j,g as e,w as o,E as z,i as n,e as t,V as P,t as k,j as m,bf as U,z as _,C as V,be as W,W as $,r as J,U as O}from"./main.e5722c22.js";import{u as Z}from"./useAppAbility.977f44d8.js";import{u as v,m as G,a as H}from"./useGenerateImageVariant.ae887621.js";import K from"./NavBarI18n.0fbee115.js";import Q from"./watch.c419ed99.js";import{a as X,b as Y,c as ee,d as te}from"./auth-v2-register-illustration-light.b833464a.js";import{V as se}from"./vue-cookies.aacfa879.js";import{c as oe}from"./index.b522f886.js";import{b as C}from"./route-block.2f1a6263.js";import{a as i,V as h}from"./VRow.f8de802a.js";import{V as I}from"./VImg.a33717ea.js";import{V as ae,c as b}from"./VCard.2abcdcfe.js";import{V as S}from"./VTextField.c7d5535f.js";import{V as re}from"./VCheckbox.7ee7e993.js";import{V as le}from"./VBtn.4327307d.js";import{V as ie}from"./VForm.be976fbe.js";import"./I18n.f7b18a27.js";import"./VMenu.1340a45a.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.23faa331.js";import"./VOverlay.ed5a8d46.js";import"./router.f3c33ba4.js";import"./lazy.d1bb34b2.js";import"./easing.36b781ab.js";import"./dialog-transition.738c368f.js";import"./VList.345ceaa4.js";import"./index.19c19380.js";import"./VAvatar.1bc59f66.js";import"./VDivider.19cd6d54.js";import"./position.fb77405d.js";/* empty css                                                              *//* empty css                   */import"./VField.01372b27.js";import"./VInput.1a6e2ae8.js";import"./VCounter.bc3c6bfa.js";import"./VCheckboxBtn.d3981e2f.js";import"./VSelectionControl.336d6e11.js";const ne=n("h1",{class:"text-primary-user"},"Resturentlly",-1),me=[ne],ue={class:"position-relative auth-bg rounded-lg w-100 ma-8 me-0"},de={class:"d-flex align-center justify-center w-100 h-100"},ce={class:"text-h5 font-weight-semibold mb-1"},pe={class:"mb-0"},fe={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},ge={__name:"login",setup(_e){const T=()=>{document.location.href="/"},L=a=>String(a).trim().length==0?r("This field is required"):!0,R=a=>{if(oe(a))return!0;const s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(a)?a.every(u=>s.test(String(u)))||r("The Email field must be a valid email"):s.test(String(a))||r("The Email field must be a valid email")},A=v(te,ee,Y,X,!0),N=v(H,G),c=d(!1),y=W(),B=$(),D=Z(),{t:r}=F(),x=d({email:void 0,password:void 0}),w=d(),p=d(""),f=d(""),g=d(!1),E=()=>{O.post("client/login",{email:p.value,password:f.value}).then(a=>{const{accessToken:s,userData:u,userAbilities:l}=a.data;localStorage.setItem("userAbilities",JSON.stringify(l)),D.update(l),localStorage.setItem("userData",JSON.stringify(u)),localStorage.setItem("accessToken",s),se.set("auth",s),B.replace(y.query.to?String(y.query.to):"/customers/profile")}).catch(a=>{const{errors:s}=a.response.data;x.value=s,console.error(a.response.data)})},q=()=>{var a;(a=w.value)==null||a.validate().then(({valid:s})=>{s&&E()})};return(a,s)=>{const u=J("RouterLink");return M(),j("div",null,[e(h,null,{default:o(()=>[e(i,{cols:"6",class:"mx-auto"},{default:o(()=>[e(K)]),_:1}),e(i,{cols:"6",md:"6",class:z(["text-center",a.dir_h1])},{default:o(()=>[n("a",{onClick:T,href:"#"},me)]),_:1},8,["class"])]),_:1}),e(h,{"no-gutters":"",class:"auth-wrapper"},{default:o(()=>[e(i,{lg:"4",class:"d-none d-lg-flex"},{default:o(()=>[n("div",ue,[n("div",de,[e(I,{"max-width":"505",src:t(A),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(I,{src:t(N),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(i,{lg:"4",class:"d-none d-lg-flex"},{default:o(()=>[e(Q)]),_:1}),e(i,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:o(()=>[e(ae,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:o(()=>[e(b,null,{default:o(()=>[e(t(P),{nodes:t(k).app.logo2,class:"mb-6"},null,8,["nodes"]),n("h5",ce,m(t(r)("Welcome_to"))+" "+m(t(k).app.title)+"! \u{1F44B}\u{1F3FB} ",1),n("p",pe,m(t(r)("Please sign-in to your account and start the adventure")),1)]),_:1}),e(b),e(b,null,{default:o(()=>[e(t(ie),{ref_key:"refVForm",ref:w,onSubmit:U(q,["prevent"])},{default:o(()=>[e(h,null,{default:o(()=>[e(i,{cols:"12"},{default:o(()=>[e(S,{modelValue:t(p),"onUpdate:modelValue":s[0]||(s[0]=l=>_(p)?p.value=l:null),rules:[L,R],label:t(r)("email"),type:"email"},null,8,["modelValue","rules","label"])]),_:1}),e(i,{cols:"12"},{default:o(()=>[e(S,{modelValue:t(f),"onUpdate:modelValue":s[1]||(s[1]=l=>_(f)?f.value=l:null),label:t(r)("password"),rules:[a.requiredValidator],type:t(c)?"text":"password","error-messages":t(x).password,"append-inner-icon":t(c)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[2]||(s[2]=l=>c.value=!t(c))},null,8,["modelValue","label","rules","type","error-messages","append-inner-icon"]),n("div",fe,[e(re,{modelValue:t(g),"onUpdate:modelValue":s[3]||(s[3]=l=>_(g)?g.value=l:null),label:t(r)("Remember_me")},null,8,["modelValue","label"]),e(u,{class:"text-primary ms-2 mb-1",to:{name:"customers-forgot-password"}},{default:o(()=>[V(m(t(r)("Forgot_Password")),1)]),_:1})]),e(le,{block:"",type:"submit"},{default:o(()=>[V(m(t(r)("login")),1)]),_:1})]),_:1}),e(i,{cols:"12",class:"text-center"},{default:o(()=>[n("span",null,m(t(r)("New on our platform?")),1),e(u,{class:"text-primary ms-2",to:{name:"register"}},{default:o(()=>[V(m(t(r)("Create an account")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})])}}};typeof C=="function"&&C(ge);export{ge as default};
