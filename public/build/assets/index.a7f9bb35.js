import{aP as q,s as o,Q as y,ai as G,x as H,o as b,l as C,g as a,w as n,e as i,z as d,i as s,C as D,j as u,f as O,p as J,F as K,B as X,G as Y,H as Z,W as ee,be as te,r as ae,y as R}from"./main.e5722c22.js";import{_ as le}from"./DeleteDialog.edba8cbb.js";import{u as oe}from"./useClientListStore.f3acc71d.js";import{b as L}from"./route-block.2f1a6263.js";import{a as j,V as F}from"./VRow.f8de802a.js";import{V as se,c as S}from"./VCard.2abcdcfe.js";import{V as I}from"./VSelect.23e06609.js";import{V as k}from"./VDivider.19cd6d54.js";import{V as ne}from"./VSpacer.8e0d4c8c.js";import{V as ie}from"./VTextField.c7d5535f.js";import{V as w}from"./VBtn.4327307d.js";import{V as re}from"./VTable.045acce0.js";import{V as ue}from"./VPagination.f1c00294.js";import{V as de}from"./VChip.f64a01b2.js";import"./VDialog.6304c993.js";import"./scopeId.23faa331.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.ed5a8d46.js";import"./router.f3c33ba4.js";import"./lazy.d1bb34b2.js";import"./easing.36b781ab.js";import"./VImg.a33717ea.js";import"./dialog-transition.738c368f.js";import"./VAvatar.1bc59f66.js";import"./position.fb77405d.js";import"./VList.345ceaa4.js";import"./index.19c19380.js";import"./VMenu.1340a45a.js";import"./VCheckboxBtn.d3981e2f.js";import"./VSelectionControl.336d6e11.js";import"./VInput.1a6e2ae8.js";/* empty css                   */import"./VField.01372b27.js";import"./VCounter.bc3c6bfa.js";const ce={class:"me-3",style:{width:"80px"}},me={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},pe={style:{width:"10rem"}},fe={scope:"col"},ve={scope:"col"},Ve={scope:"col"},_e={class:"text-center",style:{width:"5rem"}},ge={colspan:"7",class:"text-center"},he={class:"text-sm text-disabled"},ye={__name:"index",setup(be){const{t:c}=q();let v=o(!1);const P=oe(),_=o(""),x=o("delete/:id/roles/permissions");o();const g=o();o(!1),o();const h=o(),m=o(1),r=o(1),p=o(1),U=o(0),f=o(0),V=o([]),z=o([]);ee();const $=()=>{P.getMyBranches({q:_.value,status:h.value,perPage:m.value,page:r.value}).then(e=>{V.value=e.data.data,p.value=e.data.total,U.value=e.data.total}).catch(e=>{console.error(e)})};y($),y(()=>{P.getMyPlan().then(e=>{z.value=e.data}).catch(e=>{console.error(e)})}),y(()=>{r.value>p.value&&(r.value=p.value)}),te();const B=()=>{$()};G(()=>f.value,()=>{f.value===10&&$(),console.log("Watch props.selected function called with args:",f.value)});const M=[{title:c("active"),value:"active"},{title:c("not_active"),value:"not_active"}],T=e=>e==="pending"?"warning":e==="active"?"success":e==="inactive"?"secondary":"primary";o(!1),y(()=>{r.value>p.value&&(r.value=p.value)});const E=H(()=>{const e=V.value.length?(r.value-1)*m.value+1:0,l=V.value.length+(r.value-1)*m.value;return` ${c("Showing")} ${e} ${c("to")} ${l} ${c("of")} ${U.value} ${c("entries")}`}),N={action:"read",subject:"rest_maneger"},A=e=>{v.value=!0,g.value=e};return(e,l)=>{const Q=ae("RouterLink"),W=le;return b(),C("section",null,[a(F,null,{default:n(()=>[a(j,{cols:"12"},{default:n(()=>[a(se,{title:e.$t("Search Filter")},{default:n(()=>[a(S,null,{default:n(()=>[a(F,null,{default:n(()=>[a(j,{cols:"12",sm:"4"},{default:n(()=>[a(I,{modelValue:i(h),"onUpdate:modelValue":l[0]||(l[0]=t=>d(h)?h.value=t:null),label:e.$t("Select Status"),items:M,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),a(k),a(S,{class:"d-flex flex-wrap py-4 gap-4"},{default:n(()=>[s("div",ce,[a(I,{modelValue:i(m),"onUpdate:modelValue":l[1]||(l[1]=t=>d(m)?m.value=t:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),a(ne),s("div",me,[s("div",pe,[a(ie,{modelValue:i(_),"onUpdate:modelValue":l[2]||(l[2]=t=>d(_)?_.value=t:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),a(w,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:n(()=>[D(u(e.$t("export")),1)]),_:1}),e.$can(N.action,N.subject)&&i(z).count_emp_remain>0?(b(),O(w,{key:0},{default:n(()=>[a(Q,{to:{name:"dashboards-apps-branches-add-add_new"},class:"font-weight-medium user-list-name"},{default:n(()=>[D(u(e.$t("AddNew")),1)]),_:1})]),_:1})):J("",!0)])]),_:1}),a(k),a(re,{class:"text-no-wrap"},{default:n(()=>[s("thead",null,[s("tr",null,[s("th",fe,u(e.$t("staff_name")),1),s("th",ve,u(e.$t("status")),1),s("th",Ve,u(e.$t("action")),1)])]),s("tbody",null,[(b(!0),C(K,null,X(i(V),t=>(b(),C("tr",{key:t.id,style:{height:"3.75rem"}},[s("td",null,u(t.first_name+" "+t.last_name),1),s("td",null,[a(de,{label:"",color:T(t.status),size:"small",class:"text-capitalize"},{default:n(()=>[D(u(e.$t(t.status)),1)]),_:2},1032,["color"])]),s("td",_e,[a(w,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"dashboards-apps-branches-view-id",params:{id:t.id}}},{default:n(()=>[a(R,{size:"22",icon:"tabler-edit"})]),_:2},1032,["to"]),a(w,{icon:"",size:"x-small",color:"default",variant:"text",onClick:xe=>A(t.id)},{default:n(()=>[a(R,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])]))),128))]),Y(s("tfoot",null,[s("tr",null,[s("td",ge,u(e.$t("No data available")),1)])],512),[[Z,!i(V).length]])]),_:1}),a(k),a(S,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:n(()=>[s("span",he,u(i(E)),1),a(ue,{modelValue:i(r),"onUpdate:modelValue":l[3]||(l[3]=t=>d(r)?r.value=t:null),size:"small","total-visible":5,length:i(p)},null,8,["modelValue","length"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}),a(W,{counter:i(f),"onUpdate:counter":l[4]||(l[4]=t=>d(f)?f.value=t:null),isDialogVisible:i(v),"onUpdate:isDialogVisible":l[5]||(l[5]=t=>d(v)?v.value=t:v=t),id:i(g),"onUpdate:id":l[6]||(l[6]=t=>d(g)?g.value=t:null),base_url:i(x),"onUpdate:base_url":l[7]||(l[7]=t=>d(x)?x.value=t:null),confirm:B,"onUpdate:confirm":l[8]||(l[8]=t=>B=t),"confirmation-msg":i(c)("Are you sure you want to deactivate your account?")},null,8,["counter","isDialogVisible","id","base_url","confirmation-msg"])])}}};typeof L=="function"&&L(ye);export{ye as default};
