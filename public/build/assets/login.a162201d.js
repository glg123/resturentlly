import{s as l,o as D,l as F,g as e,w as o,i as n,e as t,V as M,t as y,j,bf as A,z as g,C as V,be as P,O as q,r as E,$ as O}from"./main.a5f2feaa.js";import{u as U}from"./useAppAbility.f5a0ccc0.js";import{u as w,m as $,a as J}from"./useGenerateImageVariant.98942df7.js";import W from"./NavBarI18n.6391557f.js";import z from"./watch.6a1f7e24.js";import{r as x,f as G}from"./validators.e59f90da.js";import{a as H,b as K,c as Q,d as X}from"./auth-v2-login-illustration-light.bdce81f1.js";import{b as v}from"./route-block.2f1a6263.js";import{a as i,V as k}from"./VRow.11c141e1.js";import{V as I}from"./VImg.b81fa5df.js";import{V as Y,c as _}from"./VCard.09420318.js";import{V as C}from"./VTextField.0a298259.js";import{V as Z}from"./VCheckbox.c6078b71.js";import{V as ee}from"./VBtn.a433eeed.js";import{V as te}from"./VForm.6997ee7f.js";import"./I18n.2f90a2db.js";import"./VMenu.dac15267.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.2cacba18.js";import"./VOverlay.215e4470.js";import"./router.31ac10a2.js";import"./lazy.9cc9d935.js";import"./easing.36b781ab.js";import"./dialog-transition.e2294cd8.js";import"./VList.89546436.js";import"./index.af8955da.js";import"./VAvatar.17d32ef5.js";import"./VDivider.2bd6b130.js";import"./position.36d4d31d.js";import"./index.b522f886.js";/* empty css                   */import"./VField.a1ac0317.js";import"./VInput.7d0ef3f1.js";import"./VCounter.bcb299c1.js";import"./VCheckboxBtn.cbe8e216.js";import"./VSelectionControl.79576fb2.js";const oe={class:"position-relative auth-bg rounded-lg w-100 ma-8 me-0"},ae={class:"d-flex align-center justify-center w-100 h-100"},se={class:"text-h5 font-weight-semibold mb-1"},re=n("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),le={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},ie=n("span",null,"New on our platform?",-1),ne={__name:"login",setup(me){const L=w(X,Q,K,H,!0),S=w(J,$),m=l(!1),b=P(),R=q(),N=U(),c=l({email:void 0,password:void 0}),h=l(),u=l("admin@demo.com"),d=l("admin"),f=l(!1),T=()=>{O.post("admin/login",{email:u.value,password:d.value}).then(r=>{const{accessToken:a,userData:p,userAbilities:s}=r.data;localStorage.setItem("userAbilities",JSON.stringify(s)),N.update(s),localStorage.setItem("userData",JSON.stringify(p)),localStorage.setItem("accessToken",a),R.replace(b.query.to?String(b.query.to):"/admin/")}).catch(r=>{const{errors:a}=r.response.data;c.value=a,console.error(r.response.data)})},B=()=>{var r;(r=h.value)==null||r.validate().then(({valid:a})=>{a&&T()})};return(r,a)=>{const p=E("RouterLink");return D(),F("div",null,[e(W),e(k,{"no-gutters":"",class:"auth-wrapper"},{default:o(()=>[e(i,{lg:"4",class:"d-none d-lg-flex"},{default:o(()=>[n("div",oe,[n("div",ae,[e(I,{"max-width":"505",src:t(L),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(I,{src:t(S),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(i,{lg:"4",class:"d-none d-lg-flex"},{default:o(()=>[e(z)]),_:1}),e(i,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:o(()=>[e(Y,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:o(()=>[e(_,null,{default:o(()=>[e(t(M),{nodes:t(y).app.logo2,class:"mb-6"},null,8,["nodes"]),n("h5",se," Welcome to "+j(t(y).app.title)+"! \u{1F44B}\u{1F3FB} ",1),re]),_:1}),e(_),e(_,null,{default:o(()=>[e(t(te),{ref_key:"refVForm",ref:h,onSubmit:A(B,["prevent"])},{default:o(()=>[e(k,null,{default:o(()=>[e(i,{cols:"12"},{default:o(()=>[e(C,{modelValue:t(u),"onUpdate:modelValue":a[0]||(a[0]=s=>g(u)?u.value=s:null),label:"Email",type:"email",rules:[t(x),t(G)],"error-messages":t(c).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(i,{cols:"12"},{default:o(()=>[e(C,{modelValue:t(d),"onUpdate:modelValue":a[1]||(a[1]=s=>g(d)?d.value=s:null),label:"Password",rules:[t(x)],type:t(m)?"text":"password","error-messages":t(c).password,"append-inner-icon":t(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":a[2]||(a[2]=s=>m.value=!t(m))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),n("div",le,[e(Z,{modelValue:t(f),"onUpdate:modelValue":a[3]||(a[3]=s=>g(f)?f.value=s:null),label:"Remember me"},null,8,["modelValue"]),e(p,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:o(()=>[V(" Forgot Password? ")]),_:1})]),e(ee,{block:"",type:"submit"},{default:o(()=>[V(" Login ")]),_:1})]),_:1}),e(i,{cols:"12",class:"text-center"},{default:o(()=>[ie,e(p,{class:"text-primary ms-2",to:{name:"register"}},{default:o(()=>[V(" Create an account ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})])}}};typeof v=="function"&&v(ne);export{ne as default};
