import{aP as W,s as r,Z as U,x as X,o as p,l as _,g as t,w as o,F as A,B as F,e as c,z as v,i as l,C as g,j as i,G as Y,H as ee,r as te,f as ae,y as j}from"./main.a5f2feaa.js";import{_ as le}from"./AddNewUserDrawer.10e4ae23.js";import{a as oe}from"./formatters.ab6dea15.js";import{u as se}from"./useAdminListStore.5ae2e1c6.js";import{b as O}from"./route-block.2f1a6263.js";import{a as x,V as E}from"./VRow.11c141e1.js";import{V as q,c as w}from"./VCard.09420318.js";import{V as S}from"./VSelect.d5a260e9.js";import{V as z}from"./VDivider.2bd6b130.js";import{V as ie}from"./VSpacer.79b97f0f.js";import{V as ne}from"./VTextField.0a298259.js";import{V as y}from"./VBtn.a433eeed.js";import{V as re}from"./VTable.f886bc78.js";import{V as ce}from"./VPagination.b3f9df6e.js";import{V as D}from"./VAvatar.17d32ef5.js";import{V as de}from"./VImg.b81fa5df.js";import{V as ue}from"./VChip.d1d16c5d.js";import"./validators.e59f90da.js";import"./index.b522f886.js";import"./VForm.6997ee7f.js";import"./VInput.7d0ef3f1.js";import"./router.31ac10a2.js";import"./index.af8955da.js";import"./forwardRefs.c003b6b8.js";import"./VNavigationDrawer.1e36a37c.js";import"./ssrBoot.bae8ddd1.js";import"./position.36d4d31d.js";import"./VList.89546436.js";import"./dialog-transition.e2294cd8.js";import"./easing.36b781ab.js";import"./VMenu.dac15267.js";import"./scopeId.2cacba18.js";import"./VOverlay.215e4470.js";import"./lazy.9cc9d935.js";import"./VCheckboxBtn.cbe8e216.js";import"./VSelectionControl.79576fb2.js";/* empty css                   */import"./VField.a1ac0317.js";import"./VCounter.bcb299c1.js";const me={class:"d-flex align-center gap-2 my-1"},pe={class:"text-h6"},ve={class:"me-3",style:{width:"80px"}},fe={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},_e={style:{width:"10rem"}},be={scope:"col"},he={scope:"col"},Ve={scope:"col"},ge={scope:"col"},xe={class:"d-flex align-center"},we={key:1},ye={class:"d-flex flex-column"},$e={class:"text-base"},ke={class:"text-sm text-disabled"},Ue={class:"text-capitalize text-base"},Se={class:"text-center",style:{width:"5rem"}},ze={colspan:"7",class:"text-center"},De={class:"text-sm text-disabled"},Pe={__name:"index",setup(Ce){const{t:s}=W(),P=se(),b=r(""),h=r(),G=r(),V=r(),u=r(1),d=r(1),m=r(1),C=r(0),f=r([]),N=r(1),R=r(1),B=r(1),L=r(1),I=()=>{P.fetchUsers({q:b.value,status:V.value,plan:G.value,role:h.value,perPage:u.value,page:d.value}).then(e=>{f.value=e.data.admins.data,R.value=e.data.admins.data.length,m.value=e.data.admins.total,C.value=e.data.admins.total,N.value=e.data.admins_active,B.value=e.data.admins_not_active,L.value=e.data.admins_block}).catch(e=>{console.error(e)})};U(I),U(()=>{d.value>m.value&&(d.value=m.value)});const H=[{title:s("admin"),value:"admin"},{title:s("editor"),value:"editor"},{title:s("maintainer"),value:"maintainer"},{title:s("subscriber"),value:"subscriber"}],M=[{title:s("block"),value:"block"},{title:s("active"),value:"active"},{title:s("not_active"),value:"not_active"}],$=e=>e==="subscriber"?{color:"warning",icon:"tabler-user"}:e==="author"?{color:"success",icon:"tabler-circle-check"}:e==="maintainer"?{color:"primary",icon:"tabler-chart-pie-2"}:e==="editor"?{color:"info",icon:"tabler-pencil"}:e==="admin"?{color:"secondary",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"},Q=e=>e==="pending"?"warning":e==="active"?"success":e==="inactive"?"secondary":"primary",k=r(!1);U(()=>{d.value>m.value&&(d.value=m.value)});const Z=X(()=>{const e=f.value.length?(d.value-1)*u.value+1:0,n=f.value.length+(d.value-1)*u.value;return` ${s("Showing")} ${e} ${s("to")} ${n} ${s("of")} ${C.value} ${s("entries")}`}),J=e=>{P.addUser(e),I()},K=[{icon:"tabler-user",color:"primary",title:s("total_user"),stats:R,percentage:29,subtitle:s("total_user")},{icon:"tabler-user-plus",color:"error",title:s("not_active_user"),stats:B,percentage:18,subtitle:s("not_active_user")},{icon:"tabler-user-check",color:"success",title:s("active_user"),stats:N,percentage:-14,subtitle:s("active_user")},{icon:"tabler-user-exclamation",color:"warning",title:s("block_user"),stats:L,percentage:42,subtitle:s("block_user")}];return(e,n)=>{const T=te("RouterLink");return p(),_("section",null,[t(E,null,{default:o(()=>[(p(),_(A,null,F(K,a=>t(x,{key:a.title,cols:"12",sm:"6",lg:"3"},{default:o(()=>[t(q,null,{default:o(()=>[t(w,{class:"d-flex justify-space-between"},{default:o(()=>[l("div",null,[l("span",null,i(a.title),1),l("div",me,[l("h6",pe,i(a.stats),1)]),l("span",null,i(a.subtitle),1)]),t(D,{rounded:"",variant:"tonal",color:a.color,icon:a.icon},null,8,["color","icon"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),t(x,{cols:"12"},{default:o(()=>[t(q,{title:e.$t("Search Filter")},{default:o(()=>[t(w,null,{default:o(()=>[t(E,null,{default:o(()=>[t(x,{cols:"12",sm:"4"},{default:o(()=>[t(S,{modelValue:c(h),"onUpdate:modelValue":n[0]||(n[0]=a=>v(h)?h.value=a:null),label:e.$t("Select Role"),items:H,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","label"])]),_:1}),t(x,{cols:"12",sm:"4"},{default:o(()=>[t(S,{modelValue:c(V),"onUpdate:modelValue":n[1]||(n[1]=a=>v(V)?V.value=a:null),label:e.$t("Select Status"),items:M,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),t(z),t(w,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[l("div",ve,[t(S,{modelValue:c(u),"onUpdate:modelValue":n[2]||(n[2]=a=>v(u)?u.value=a:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),t(ie),l("div",fe,[l("div",_e,[t(ne,{modelValue:c(b),"onUpdate:modelValue":n[3]||(n[3]=a=>v(b)?b.value=a:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(y,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:o(()=>[g(i(e.$t("export")),1)]),_:1}),t(y,null,{default:o(()=>[t(T,{to:{name:"admin-apps-admins-add-add_new"},class:"font-weight-medium user-list-name"},{default:o(()=>[g(i(e.$t("AddNew")),1)]),_:1})]),_:1})])]),_:1}),t(z),t(re,{class:"text-no-wrap"},{default:o(()=>[l("thead",null,[l("tr",null,[l("th",be,i(e.$t("email")),1),l("th",he,i(e.$t("role")),1),l("th",Ve,i(e.$t("status")),1),l("th",ge,i(e.$t("action")),1)])]),l("tbody",null,[(p(!0),_(A,null,F(c(f),a=>(p(),_("tr",{key:a.id,style:{height:"3.75rem"}},[l("td",null,[l("div",xe,[t(D,{variant:"tonal",color:$(a.role).color,class:"me-3",size:"38"},{default:o(()=>[a.avatar?(p(),ae(de,{key:0,src:a.avatar},null,8,["src"])):(p(),_("span",we,i(c(oe)(a.name)),1))]),_:2},1032,["color"]),l("div",ye,[l("h6",$e,[t(T,{to:{name:"admin-apps-admins-view-id",params:{id:a.id}},class:"font-weight-medium user-list-name"},{default:o(()=>[g(i(a.name),1)]),_:2},1032,["to"])]),l("span",ke,"@"+i(a.email),1)])])]),l("td",null,[t(D,{color:$(a.role).color,icon:$(a.role).icon,variant:"tonal",size:"30",class:"me-4"},null,8,["color","icon"]),l("span",Ue,i(e.$t(a.role)),1)]),l("td",null,[t(ue,{label:"",color:Q(a.status),size:"small",class:"text-capitalize"},{default:o(()=>[g(i(e.$t(a.status)),1)]),_:2},1032,["color"])]),l("td",Se,[t(y,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"admin-apps-admins-view-id",params:{id:a.id}}},{default:o(()=>[t(j,{size:"22",icon:"tabler-edit"})]),_:2},1032,["to"]),t(y,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"admin-apps-admins-view-id",params:{id:a.id}}},{default:o(()=>[t(j,{size:"22",icon:"tabler-trash"})]),_:2},1032,["to"])])]))),128))]),Y(l("tfoot",null,[l("tr",null,[l("td",ze,i(e.$t("No data available")),1)])],512),[[ee,!c(f).length]])]),_:1}),t(z),t(w,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:o(()=>[l("span",De,i(c(Z)),1),t(ce,{modelValue:c(d),"onUpdate:modelValue":n[4]||(n[4]=a=>v(d)?d.value=a:null),size:"small","total-visible":5,length:c(m)},null,8,["modelValue","length"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}),t(le,{isDrawerOpen:c(k),"onUpdate:isDrawerOpen":n[5]||(n[5]=a=>v(k)?k.value=a:null),onUserData:J},null,8,["isDrawerOpen"])])}}};typeof O=="function"&&O(Pe);export{Pe as default};
