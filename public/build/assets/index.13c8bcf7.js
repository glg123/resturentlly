import{aP as T,s,Q as y,ai as E,x as A,o as h,l as $,g as a,w as i,i as l,e as n,z as d,C as S,j as r,f as Q,p as W,F as q,B as G,G as H,H as O,W as J,be as K,r as M,y as U}from"./main.e5722c22.js";import{_ as X}from"./DeleteDialog.edba8cbb.js";import{useSettingListStore as Y}from"./useSettingListStore.a7b13a8a.js";import{b as P}from"./route-block.2f1a6263.js";import{a as Z,V as ee}from"./VRow.f8de802a.js";import{V as te,c as z}from"./VCard.2abcdcfe.js";import{V as ae}from"./VSelect.23e06609.js";import{V as oe}from"./VSpacer.8e0d4c8c.js";import{V as le}from"./VTextField.c7d5535f.js";import{V as w}from"./VBtn.4327307d.js";import{V as B}from"./VDivider.19cd6d54.js";import{V as se}from"./VTable.045acce0.js";import{V as ne}from"./VPagination.f1c00294.js";import"./VDialog.6304c993.js";import"./scopeId.23faa331.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.ed5a8d46.js";import"./router.f3c33ba4.js";import"./lazy.d1bb34b2.js";import"./easing.36b781ab.js";import"./VImg.a33717ea.js";import"./dialog-transition.738c368f.js";import"./VAvatar.1bc59f66.js";import"./position.fb77405d.js";import"./VList.345ceaa4.js";import"./index.19c19380.js";import"./VMenu.1340a45a.js";import"./VCheckboxBtn.d3981e2f.js";import"./VSelectionControl.336d6e11.js";import"./VInput.1a6e2ae8.js";import"./VChip.f64a01b2.js";/* empty css                   */import"./VField.01372b27.js";import"./VCounter.bc3c6bfa.js";const ie={class:"me-3",style:{width:"80px"}},re={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ue={style:{width:"10rem"}},de={scope:"col"},me={scope:"col"},ce={scope:"col"},pe={scope:"col"},fe={class:"text-center",style:{width:"5rem"}},ve={colspan:"7",class:"text-center"},_e={class:"text-sm text-disabled"},Ve={__name:"index",setup(ge){const{t:f}=T();let v=s(!1);const N=Y(),V=s(""),b=s("cities/:id");s();const g=s();s(!1),s();const R=s(),m=s(1),u=s(1),c=s(1),C=s(0),p=s(0),_=s([]);J();const x=()=>{N.fetchCities({q:V.value,status:R.value,perPage:m.value,page:u.value}).then(t=>{_.value=t.data.data,c.value=t.data.total,C.value=t.data.total}).catch(t=>{console.error(t)})};y(x),y(()=>{u.value>c.value&&(u.value=c.value)}),K();const k=()=>{x()};E(()=>p.value,()=>{p.value===10&&x(),console.log("Watch props.selected function called with args:",p.value)}),s(!1),y(()=>{u.value>c.value&&(u.value=c.value)});const L=A(()=>{const t=_.value.length?(u.value-1)*m.value+1:0,o=_.value.length+(u.value-1)*m.value;return` ${f("Showing")} ${t} ${f("to")} ${o} ${f("of")} ${C.value} ${f("entries")}`}),D={action:"read",subject:"cities_add"},j=t=>{v.value=!0,g.value=t};return(t,o)=>{const F=M("RouterLink"),I=X;return h(),$("section",null,[a(ee,null,{default:i(()=>[a(Z,{cols:"12"},{default:i(()=>[a(te,{title:t.$t("Search Filter")},{default:i(()=>[a(z,{class:"d-flex flex-wrap py-4 gap-4"},{default:i(()=>[l("div",ie,[a(ae,{modelValue:n(m),"onUpdate:modelValue":o[0]||(o[0]=e=>d(m)?m.value=e:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),a(oe),l("div",re,[l("div",ue,[a(le,{modelValue:n(V),"onUpdate:modelValue":o[1]||(o[1]=e=>d(V)?V.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),a(w,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:i(()=>[S(r(t.$t("export")),1)]),_:1}),t.$can(D.action,D.subject)?(h(),Q(w,{key:0},{default:i(()=>[a(F,{to:{name:"admin-apps-permission-add-add_new"},class:"font-weight-medium user-list-name"},{default:i(()=>[S(r(t.$t("AddNew")),1)]),_:1})]),_:1})):W("",!0)])]),_:1}),a(B),a(se,{class:"text-no-wrap"},{default:i(()=>[l("thead",null,[l("tr",null,[l("th",de,r(t.$t("name")),1),l("th",me,r(t.$t("state_name")),1),l("th",ce,r(t.$t("country_name")),1),l("th",pe,r(t.$t("action")),1)])]),l("tbody",null,[(h(!0),$(q,null,G(n(_),e=>(h(),$("tr",{key:e.id,style:{height:"3.75rem"}},[l("td",null,r(e.name),1),l("td",null,r(e.state_name),1),l("td",null,r(e.country_name),1),l("td",fe,[a(w,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"admin-apps-cities-view-id",params:{id:e.id}}},{default:i(()=>[a(U,{size:"22",icon:"tabler-edit"})]),_:2},1032,["to"]),a(w,{icon:"",size:"x-small",color:"default",variant:"text",onClick:he=>j(e.id)},{default:i(()=>[a(U,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])]))),128))]),H(l("tfoot",null,[l("tr",null,[l("td",ve,r(t.$t("No data available")),1)])],512),[[O,!n(_).length]])]),_:1}),a(B),a(z,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:i(()=>[l("span",_e,r(n(L)),1),a(ne,{modelValue:n(u),"onUpdate:modelValue":o[2]||(o[2]=e=>d(u)?u.value=e:null),size:"small","total-visible":5,length:n(c)},null,8,["modelValue","length"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}),a(I,{counter:n(p),"onUpdate:counter":o[3]||(o[3]=e=>d(p)?p.value=e:null),isDialogVisible:n(v),"onUpdate:isDialogVisible":o[4]||(o[4]=e=>d(v)?v.value=e:v=e),id:n(g),"onUpdate:id":o[5]||(o[5]=e=>d(g)?g.value=e:null),base_url:n(b),"onUpdate:base_url":o[6]||(o[6]=e=>d(b)?b.value=e:null),confirm:k,"onUpdate:confirm":o[7]||(o[7]=e=>k=e),"confirmation-msg":n(f)("Are you sure you want to deactivate your account?")},null,8,["counter","isDialogVisible","id","base_url","confirmation-msg"])])}}};typeof P=="function"&&P(Ve);export{Ve as default};
