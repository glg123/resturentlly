import{s as i,aP as K,U as k,o as O,l as Q,g as e,w as l,E as X,i as n,e as t,V as Y,t as ee,j as m,bf as te,y as ae,z as c,C as U,be as le,W as se,r as oe}from"./main.e5722c22.js";import re from"./NavBarI18n.0fbee115.js";import ne from"./watch.c419ed99.js";import{a as ie,b as ue,c as me,d as de}from"./auth-v2-register-illustration-light.b833464a.js";import{u as j,m as ce,a as pe}from"./useGenerateImageVariant.ae887621.js";import{f as F}from"./validators.330a354f.js";import{c as $}from"./index.b522f886.js";import"./vue-cookies.aacfa879.js";import{b as q}from"./route-block.2f1a6263.js";import{a as u,V as C}from"./VRow.f8de802a.js";import{V as B}from"./VImg.a33717ea.js";import{V as fe,c as I}from"./VCard.2abcdcfe.js";import{V as _e}from"./VAvatar.1bc59f66.js";import{V as D}from"./VBtn.4327307d.js";import{V as f}from"./VTextField.c7d5535f.js";import{V as ge,a as E}from"./VRadioGroup.b0ad932a.js";import{V as Ve}from"./VCheckbox.7ee7e993.js";import{V as be}from"./VInput.1a6e2ae8.js";import{V as he}from"./VForm.be976fbe.js";import"./I18n.f7b18a27.js";import"./VMenu.1340a45a.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.23faa331.js";import"./VOverlay.ed5a8d46.js";import"./router.f3c33ba4.js";import"./lazy.d1bb34b2.js";import"./easing.36b781ab.js";import"./dialog-transition.738c368f.js";import"./VList.345ceaa4.js";import"./index.19c19380.js";import"./VDivider.19cd6d54.js";import"./position.fb77405d.js";/* empty css                                                              *//* empty css                   */import"./VField.01372b27.js";import"./VCounter.bc3c6bfa.js";import"./VSelectionControl.336d6e11.js";import"./VCheckboxBtn.d3981e2f.js";const ye=n("h1",{class:"text-primary-user"},"Resturentlly",-1),ve=[ye],xe={class:"position-relative auth-bg rounded-lg w-100 ma-8 me-0"},ke={class:"d-flex align-center justify-center w-100 h-100"},we={class:"text-h5 font-weight-semibold mb-1"},Ae={class:"mb-0"},Ce={ref:"refForm_front",class:"d-flex flex-column justify-center gap-4"},Ie={class:"d-flex flex-wrap gap-2"},Re={class:"d-none d-sm-block"},Le={class:"d-flex align-center mt-2 mb-4"},Se={class:"me-1"},Te={href:"javascript:void(0)",class:"text-primary"},Ue={__name:"register",setup(je){const R=i(),L=i();i("");const _=i(""),g=i(""),V=i(""),b=i(""),w=i(),h=i(""),A=i(!0),y=i("client"),{t:o}=K(),v=le(),S=se();k.defaults.headers.common["Content-Type"]="application/json",k.defaults.headers.common.Accept="application/json",k.defaults.headers.common.Language="ar";const z=s=>{const a=new FileReader,{files:d}=s.target;d&&d.length&&(a.readAsDataURL(d[0]),a.onload=()=>{typeof a.result=="string"&&(w.value=a.result)})},M=i([]),N=()=>{k.post("/register",{first_name:g.value,last_name:V.value,email:b.value,mobile:_.value,password:h.value,type:y.value,avatar:w.value}).then(s=>{s.data==="customer"?S.replace(v.query.to?String(v.query.to):"/customers/activate_account"):S.replace(v.query.to?String(v.query.to):"/dashboards/activate_account")}).catch(s=>{M.value=s.response.data.message})},G=()=>{var s;(s=L.value)==null||s.validate().then(({valid:a})=>{a&&N()})},P=j(de,me,ue,ie,!0),W=j(pe,ce),x=i(!1),Z=()=>{document.location.href="/"},p=s=>String(s).trim().length==0?o("This field is required"):!0,H=s=>{if($(s))return!0;const a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(s)?s.every(d=>a.test(String(d)))||o("The Email field must be a valid email"):a.test(String(s))||o("The Email field must be a valid email")},J=s=>$(s)?!0:Array.isArray(s)?s.every(a=>/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(String(a)))||o("This field must be an integer"):/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(String(s))||o("This field must be an integer");return(s,a)=>{const d=oe("RouterLink");return O(),Q("div",null,[e(C,null,{default:l(()=>[e(u,{cols:"6",class:"mx-auto"},{default:l(()=>[e(re)]),_:1}),e(u,{cols:"6",md:"6",class:X(["text-center",s.dir_h1])},{default:l(()=>[n("a",{onClick:Z,href:"#"},ve)]),_:1},8,["class"])]),_:1}),e(C,{"no-gutters":"",class:"auth-wrapper"},{default:l(()=>[e(u,{lg:"4",class:"d-none d-lg-flex"},{default:l(()=>[n("div",xe,[n("div",ke,[e(B,{"max-width":"441",src:t(P),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(B,{class:"auth-footer-mask",src:t(W)},null,8,["src"])])]),_:1}),e(u,{lg:"4",class:"d-none d-lg-flex"},{default:l(()=>[e(ne)]),_:1}),e(u,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:l(()=>[e(fe,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:l(()=>[e(I,null,{default:l(()=>[e(t(Y),{nodes:t(ee).app.logo2,class:"mb-6"},null,8,["nodes"]),n("h5",we,m(t(o)("register_with_us")),1),n("p",Ae,m(t(o)("Experience the digital experience of restaurants")),1)]),_:1}),e(I,null,{default:l(()=>[e(t(he),{ref_key:"refVForm",ref:L,onSubmit:te(G,["prevent"])},{default:l(()=>[e(C,null,{default:l(()=>[e(u,{md:"12",cols:"12"},{default:l(()=>[e(I,{class:"d-flex"},{default:l(()=>[e(_e,{rounded:"",size:"100",class:"me-6",image:t(w)},null,8,["image"]),n("form",Ce,[n("div",Ie,[e(D,{color:"primary",onClick:a[0]||(a[0]=r=>{var T;return(T=t(R))==null?void 0:T.click()})},{default:l(()=>[e(ae,{icon:"tabler-cloud-upload",class:"d-sm-none"}),n("span",Re,m(s.$t("avatar")),1)]),_:1}),n("input",{ref_key:"changeAvatarFrom",ref:R,type:"file",name:"file_back",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:z},null,544)])],512)]),_:1})]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(f,{modelValue:t(_),"onUpdate:modelValue":a[1]||(a[1]=r=>c(_)?_.value=r:null),rules:[p,J],label:t(o)("mobile")},null,8,["modelValue","rules","label"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(f,{modelValue:t(g),"onUpdate:modelValue":a[2]||(a[2]=r=>c(g)?g.value=r:null),rules:[p,t(F)],label:t(o)("first_name")},null,8,["modelValue","rules","label"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(f,{modelValue:t(V),"onUpdate:modelValue":a[3]||(a[3]=r=>c(V)?V.value=r:null),rules:[p,t(F)],label:t(o)("last_name")},null,8,["modelValue","rules","label"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(f,{modelValue:t(b),"onUpdate:modelValue":a[4]||(a[4]=r=>c(b)?b.value=r:null),rules:[p,H],label:t(o)("email"),type:"email"},null,8,["modelValue","rules","label"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(ge,{modelValue:t(y),"onUpdate:modelValue":a[5]||(a[5]=r=>c(y)?y.value=r:null),inline:""},{default:l(()=>[e(E,{label:s.$t("client"),value:"client",density:"compact"},null,8,["label"]),e(E,{label:s.$t("customer"),value:"customer",density:"compact"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(f,{modelValue:t(h),"onUpdate:modelValue":a[6]||(a[6]=r=>c(h)?h.value=r:null),rules:[p],label:t(o)("password"),type:t(x)?"text":"password","append-inner-icon":t(x)?"tabler-eye-off":"tabler-eye","onClick:appendInner":a[7]||(a[7]=r=>x.value=!t(x))},null,8,["modelValue","rules","label","type","append-inner-icon"]),n("div",Le,[e(Ve,{id:"privacy-policy",modelValue:t(A),"onUpdate:modelValue":a[8]||(a[8]=r=>c(A)?A.value=r:null),inline:""},null,8,["modelValue"]),e(be,{for:"privacy-policy",class:"pb-1",style:{opacity:"1"}},{default:l(()=>[n("span",Se,m(t(o)("I_agree_to")),1),n("a",Te,m(t(o)("privacy_policy_terms")),1)]),_:1})]),e(D,{block:"",type:"submit"},{default:l(()=>[U(m(t(o)("register")),1)]),_:1})]),_:1}),e(u,{cols:"12",class:"text-center text-base"},{default:l(()=>[n("span",null,m(t(o)("Already have an account?")),1),e(d,{class:"text-primary ms-2",to:{name:"choose_login"}},{default:l(()=>[U(m(t(o)("login")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})])}}};typeof q=="function"&&q(Ue);export{Ue as default};
