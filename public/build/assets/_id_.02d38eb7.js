import{s as f,c as N,U as s,aP as E,ai as $,o as g,f as S,w as l,g as a,C as n,j as d,e as r,z as T,i as L,l as P,B as I,F as q,bf as z,be as M,W}from"./main.e5722c22.js";import{u as G}from"./useAdminListStore.251ab28b.js";/* empty css                                                                     */import{b as h}from"./route-block.2f1a6263.js";import{V as v}from"./VBtn.4327307d.js";import{V as B}from"./VSnackbar.dc45fad4.js";import{V as U,c as _}from"./VCard.2abcdcfe.js";import{V as H}from"./VForm.be976fbe.js";import{V as w,a as i}from"./VRow.f8de802a.js";import{V as y}from"./VTextField.c7d5535f.js";import{V as J}from"./VSelect.23e06609.js";import{V as K}from"./VCheckbox.7ee7e993.js";import"./router.f3c33ba4.js";import"./position.fb77405d.js";import"./scopeId.23faa331.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.ed5a8d46.js";import"./lazy.d1bb34b2.js";import"./easing.36b781ab.js";import"./VImg.a33717ea.js";import"./VAvatar.1bc59f66.js";import"./VInput.1a6e2ae8.js";import"./index.19c19380.js";/* empty css                   */import"./VField.01372b27.js";import"./VCounter.bc3c6bfa.js";import"./VList.345ceaa4.js";import"./VDivider.19cd6d54.js";import"./dialog-transition.738c368f.js";import"./VMenu.1340a45a.js";import"./VCheckboxBtn.d3981e2f.js";import"./VSelectionControl.336d6e11.js";import"./VChip.f64a01b2.js";const O={class:"demo-space-x"},Q={__name:"[id]",setup(X){G();const c=M(),C=f([]),m=f([]);W();const{isAppRtl:A}=N();let V=localStorage.getItem("accessToken");s.defaults.headers.common["Content-Type"]="application/json",s.defaults.headers.common.Accept="application/json",A.value===!0?s.defaults.headers.common.Language="ar":s.defaults.headers.common.Language="en",s.defaults.headers.common.type="Admin",s.defaults.headers.common.role="Admin",s.defaults.headers.common.auth="Bearer "+V;const k=e=>String(e).trim().length==0?b("This field is required"):!0,u=f([]),D=()=>{s.get("/roles/"+Number(c.params.id)+"/get",{token:V}).then(e=>{m.value=e.data,p.value=e.data.status;for(var t=0;t<e.data.role_permissions.abilities.length;t++)u.value.push(e.data.role_permissions.abilities[t].subject);console.log(u.value)})},F=()=>{s.get("/admins/permissions/list",{token:V}).then(e=>{C.value=e.data})},{t:b}=E(),p=f(),R=[{title:b("active"),value:"active"},{title:b("not_active"),value:"not_active"}];return $(c,D,{immediate:!0}),$(c,F,{immediate:!0}),(e,t)=>(g(),S(w,null,{default:l(()=>[a(B,{location:"top",modelValue:e.isTrue,"onUpdate:modelValue":t[1]||(t[1]=o=>e.isTrue=o)},{actions:l(()=>[a(v,{color:"success",onClick:t[0]||(t[0]=o=>e.isTrue=!1)},{default:l(()=>[n(d(e.$t("Close")),1)]),_:1})]),default:l(()=>[n(d(e.$t("Done"))+" ",1)]),_:1},8,["modelValue"]),a(B,{color:"error",location:"top",modelValue:e.isError,"onUpdate:modelValue":t[3]||(t[3]=o=>e.isError=o)},{actions:l(()=>[a(v,{color:"success",onClick:t[2]||(t[2]=o=>e.isError=!1)},{default:l(()=>[n(d(e.$t("Close")),1)]),_:1})]),default:l(()=>[n(d(e.errors)+" ",1)]),_:1},8,["modelValue"]),a(i,{cols:"12"},{default:l(()=>[a(U,{title:e.$t("AddNew")},{default:l(()=>[a(_,{class:"pt-2"},{default:l(()=>[a(H,{ref:"refForm",class:"mt-6"},{default:l(()=>[a(w,null,{default:l(()=>[a(i,{md:"6",cols:"12"},{default:l(()=>[a(y,{modelValue:r(m).role_name_ar,"onUpdate:modelValue":t[4]||(t[4]=o=>r(m).role_name_ar=o),label:e.$t("title_ar"),rules:[k]},null,8,["modelValue","label","rules"])]),_:1}),a(i,{md:"6",cols:"12"},{default:l(()=>[a(y,{modelValue:r(m).role_name_en,"onUpdate:modelValue":t[5]||(t[5]=o=>r(m).role_name_en=o),label:e.$t("title_en"),rules:[k]},null,8,["modelValue","label","rules"])]),_:1}),a(i,{md:"6",cols:"12"},{default:l(()=>[a(J,{modelValue:r(p),"onUpdate:modelValue":t[6]||(t[6]=o=>T(p)?p.value=o:null),label:e.$t("Select Status"),items:R,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","label"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(U,{title:e.$t("roles")},{default:l(()=>[a(_,{class:"pt-0"},{default:l(()=>[L("div",O,[(g(!0),P(q,null,I(r(C),o=>(g(),S(K,{key:o.id,modelValue:r(u),"onUpdate:modelValue":t[7]||(t[7]=j=>T(u)?u.value=j:null),label:o.title,value:o.slug},null,8,["modelValue","label","value"]))),128))])]),_:1})]),_:1},8,["title"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(v,{type:"submit",loading:e.loading,disabled:e.disabled,onClick:z(e.sendFrom,["prevent"])},{default:l(()=>[n(d(e.$t("Save changes")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}))}};typeof h=="function"&&h(Q);export{Q as default};
